var app, appUrl;

if (window.location.host === 'localhost:4000') {
  appUrl = 'https://tracka-keepa-dev.firebaseio.com';
} else {
  appUrl = window.location.host;
}

app = angular.module('trackaKeepa', ['firebase']);

app.constant('Modernizr', Modernizr);

window.console = window.console || {};

window.console.log = window.console.log || function() {};

$(function() {
  return $("a[href='#']").click(function(e) {
    return e.preventDefault();
  });
});

app.directive('loginForm', [
  function() {
    return {
      restrict: 'A',
      scope: true,
      link: function(scope, element, attrs) {
        scope.user = {
          email: null,
          password: null
        };
        return scope.submit = function() {
          return console.log(scope.user);
        };
      }
    };
  }
]);

app.directive('registerForm', [
  '$firebaseAuth', function($firebaseAuth) {
    return {
      restrict: 'A',
      scope: true,
      link: function(scope, element, attrs) {
        var auth, ref;
        ref = new Firebase(appUrl);
        auth = $firebaseAuth(ref);
        scope.user = {
          email: null,
          password: null
        };
        return scope.submit = function() {
          return auth.$createUser({
            email: scope.user.email,
            password: scope.user.password
          }).then(function(userData) {
            console.log("Successfully created user account: " + userData.uid);
            return $('[flash]').text('Account successfully created');
          })["catch"](function(error) {
            return console.log("Error creating user: " + error);
          });
        };
      }
    };
  }
]);

app.directive('tabSet', [
  'Tab', function(Tab) {
    return {
      restrict: 'A',
      scope: true,
      link: function(scope, element, attrs) {
        return scope.tabSet = Tab.newTabSet();
      }
    };
  }
]);

app.directive('tabToggle', [
  'Tab', function(Tab) {
    return {
      restrict: 'A',
      link: function(scope, element, attrs) {
        angular.element(element).bind('click', function() {
          if (!$(element).is('[tab-active]')) {
            return Tab.toggleTab({
              id: scope.tabSet,
              tabbed: attrs.tabToggle
            });
          }
        });
        return scope.$on('tabToggle', function(ev, val) {
          if (scope.tabSet === val.id) {
            if (attrs.tabToggle === val.tabbed) {
              return $(element).attr('tab-active', '');
            } else {
              return $(element).removeAttr('tab-active');
            }
          }
        });
      }
    };
  }
]);

app.directive('tabContent', [
  function() {
    return {
      restrict: 'A',
      link: function(scope, element, attrs) {
        var closeTab, openTab;
        openTab = function() {
          return $(element).attr('tab-active', '');
        };
        closeTab = function() {
          return $(element).removeAttr('tab-active');
        };
        return scope.$on('tabToggle', function(ev, val) {
          if (scope.tabSet === val.id) {
            if (attrs.tabContent === val.tabbed) {
              return openTab();
            } else {
              return closeTab();
            }
          }
        });
      }
    };
  }
]);

app.factory('Tab', [
  '$rootScope', function($rootScope) {
    var tabSets;
    tabSets = [];
    return {
      newTabSet: function() {
        var tabSet;
        tabSet = tabSets.length + 1;
        tabSets.push({
          id: tabSet,
          tabbed: ''
        });
        return tabSet;
      },
      toggleTab: function(args) {
        var i, len, n, results;
        results = [];
        for (i = 0, len = tabSets.length; i < len; i++) {
          n = tabSets[i];
          if (n.id === args.id) {
            n.tabbed = args.tabbed;
            $rootScope.$broadcast('tabToggle', n);
            break;
          } else {
            results.push(void 0);
          }
        }
        return results;
      }
    };
  }
]);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5jb2ZmZWUiLCJjb21wb25lbnRzL2xvZ2luRm9ybS9sb2dpbkZvcm0uZGlyZWN0aXZlLmNvZmZlZSIsImNvbXBvbmVudHMvcmVnaXN0ZXJGb3JtL3JlZ2lzdGVyRm9ybS5kaXJlY3RpdmUuY29mZmVlIiwiY29tcG9uZW50cy90YWJUb2dnbGUvdGFiVG9nZ2xlLmRpcmVjdGl2ZS5jb2ZmZWUiLCJjb21wb25lbnRzL3RhYlRvZ2dsZS90YWJUb2dnbGUuZmFjdG9yeS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0EsSUFBQSxXQUFBOztBQUFBLElBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFoQixLQUF3QixnQkFBM0I7QUFDRSxFQUFBLE1BQUEsR0FBUyx5Q0FBVCxDQURGO0NBQUEsTUFBQTtBQUdFLEVBQUEsTUFBQSxHQUFTLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBekIsQ0FIRjtDQUFBOztBQUFBLEdBTUEsR0FBTSxPQUFPLENBQUMsTUFBUixDQUFlLGFBQWYsRUFBOEIsQ0FBQyxVQUFELENBQTlCLENBTk4sQ0FBQTs7QUFBQSxHQVNHLENBQUMsUUFBSixDQUFhLFdBQWIsRUFBMEIsU0FBMUIsQ0FUQSxDQUFBOztBQUFBLE1BWU0sQ0FBQyxPQUFQLEdBQWlCLE1BQU0sQ0FBQyxPQUFQLElBQWtCLEVBWm5DLENBQUE7O0FBQUEsTUFhTSxDQUFDLE9BQU8sQ0FBQyxHQUFmLEdBQXFCLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBZixJQUFzQixTQUFBLEdBQUEsQ0FiM0MsQ0FBQTs7QUFBQSxDQWdCQSxDQUFFLFNBQUEsR0FBQTtTQUNBLENBQUEsQ0FBRSxhQUFGLENBQWdCLENBQUMsS0FBakIsQ0FBdUIsU0FBQyxDQUFELEdBQUE7V0FDckIsQ0FBQyxDQUFDLGNBQUYsQ0FBQSxFQURxQjtFQUFBLENBQXZCLEVBREE7QUFBQSxDQUFGLENBaEJBLENBQUE7O0FDSEEsR0FBRyxDQUFDLFNBQUosQ0FBYyxXQUFkLEVBQTJCO0VBQ3pCLFNB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cC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiMgQ29ubmVjdCB0byBwcm9wZXIgZmlyZWJhc2VcbiMgYXBwVXJsID1cblxuaWYgd2luZG93LmxvY2F0aW9uLmhvc3QgaXMgJ2xvY2FsaG9zdDo0MDAwJ1xuICBhcHBVcmwgPSAnaHR0cHM6Ly90cmFja2Eta2VlcGEtZGV2LmZpcmViYXNlaW8uY29tJ1xuZWxzZVxuICBhcHBVcmwgPSB3aW5kb3cubG9jYXRpb24uaG9zdFxuXG4jIENyZWF0ZSBhbmd1bGFyIGFwcFxuYXBwID0gYW5ndWxhci5tb2R1bGUgJ3RyYWNrYUtlZXBhJywgWydmaXJlYmFzZSddXG5cbiMgTWFrZSBNb2Rlcm5penIgaW5qZWN0YWJsZVxuYXBwLmNvbnN0YW50ICdNb2Rlcm5penInLCBNb2Rlcm5penJcblxuIyBDcmVhdGUgY29uc29sZS5sb2cgZm9yIGluY29tcGF0aWJsZSBicm93c2Vyc1xud2luZG93LmNvbnNvbGUgPSB3aW5kb3cuY29uc29sZSBvciB7fVxud2luZG93LmNvbnNvbGUubG9nID0gd2luZG93LmNvbnNvbGUubG9nIG9yIC0+XG5cbiMgRW1wdHkgYW5jaG9yIGxpbmtzIGdvIG5vd2hlcmVcbiQgLT5cbiAgJChcImFbaHJlZj0nIyddXCIpLmNsaWNrIChlKSAtPlxuICAgIGUucHJldmVudERlZmF1bHQoKSIsImFwcC5kaXJlY3RpdmUgJ2xvZ2luRm9ybScsIFtcbiAgLT5cbiAgICByZXN0cmljdDogJ0EnXG4gICAgc2NvcGU6IHRydWVcbiAgICBsaW5rOiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSAtPlxuICAgICAgc2NvcGUudXNlciA9XG4gICAgICAgIGVtYWlsOiBudWxsXG4gICAgICAgIHBhc3N3b3JkOiBudWxsXG5cbiAgICAgIHNjb3BlLnN1Ym1pdCA9IC0+XG4gICAgICAgIGNvbnNvbGUubG9nIHNjb3BlLnVzZXJcbl0iLCJhcHAuZGlyZWN0aXZlICdyZWdpc3RlckZvcm0nLCBbXG4gICckZmlyZWJhc2VBdXRoJ1xuICAoJGZpcmViYXNlQXV0aCkgLT5cbiAgICByZXN0cmljdDogJ0EnXG4gICAgc2NvcGU6IHRydWVcbiAgICBsaW5rOiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSAtPlxuICAgICAgcmVmID0gbmV3IEZpcmViYXNlIGFwcFVybFxuICAgICAgYXV0aCA9ICRmaXJlYmFzZUF1dGggcmVmXG5cbiAgICAgIHNjb3BlLnVzZXIgPVxuICAgICAgICBlbWFpbDogbnVsbFxuICAgICAgICBwYXNzd29yZDogbnVsbFxuXG4gICAgICBzY29wZS5zdWJtaXQgPSAtPlxuICAgICAgICBhdXRoLiRjcmVhdGVVc2VyXG4gICAgICAgICAgZW1haWw6IHNjb3BlLnVzZXIuZW1haWxcbiAgICAgICAgICBwYXNzd29yZDogc2NvcGUudXNlci5wYXNzd29yZFxuICAgICAgICAudGhlbiAodXNlckRhdGEpIC0+XG4gICAgICAgICAgY29uc29sZS5sb2cgXCJTdWNjZXNzZnVsbHkgY3JlYXRlZCB1c2VyIGFjY291bnQ6ICN7dXNlckRhdGEudWlkfVwiXG4gICAgICAgICAgJCgnW2ZsYXNoXScpLnRleHQgJ0FjY291bnQgc3VjY2Vzc2Z1bGx5IGNyZWF0ZWQnXG4gICAgICAgIC5jYXRjaCAoZXJyb3IpIC0+XG4gICAgICAgICAgY29uc29sZS5sb2cgXCJFcnJvciBjcmVhdGluZyB1c2VyOiAje2Vycm9yfVwiXG5dIiwiYXBwLmRpcmVjdGl2ZSAndGFiU2V0JywgW1xuICAnVGFiJ1xuICAoVGFiKSAtPlxuICAgIHJlc3RyaWN0OiAnQSdcbiAgICBzY29wZTogdHJ1ZVxuICAgIGxpbms6IChzY29wZSwgZWxlbWVudCwgYXR0cnMpIC0+XG5cbiAgICAgICMgQW5ub3VuY2UgdG8gVGFiIGZhY3RvcnkgdGhhdCBJIG5lZWQgYSBuZXcgdGFiU2V0IGFzc2lnbmVkXG4gICAgICBzY29wZS50YWJTZXQgPSBUYWIubmV3VGFiU2V0KClcbl1cblxuIyBDb250cm9scyB0b2dnbGUgc3RhdGVcbmFwcC5kaXJlY3RpdmUgJ3RhYlRvZ2dsZScsIFtcbiAgJ1RhYidcbiAgKFRhYikgLT5cbiAgICByZXN0cmljdDogJ0EnXG4gICAgbGluazogKHNjb3BlLCBlbGVtZW50LCBhdHRycykgLT5cblxuICAgICAgIyBJZGVudGlmeSBzZWxmIGFzIHRvZ2dsaW5nIHRvIGZhY3RvcnlcbiAgICAgIGFuZ3VsYXIuZWxlbWVudChlbGVtZW50KS5iaW5kICdjbGljaycsIC0+XG5cbiAgICAgICAgdW5sZXNzICQoZWxlbWVudCkuaXMgJ1t0YWItYWN0aXZlXSdcblxuICAgICAgICAgICMgUGFzcyBteSB0YWJTZXQgYW5kIHRhYlRvZ2dsZSB0byBmYWN0b3J5XG4gICAgICAgICAgVGFiLnRvZ2dsZVRhYiBpZDogc2NvcGUudGFiU2V0LCB0YWJiZWQ6IGF0dHJzLnRhYlRvZ2dsZVxuXG4gICAgICAjIExpc3RlbiBmb3IgdGFiVG9nZ2xlIGV2ZW50XG4gICAgICBzY29wZS4kb24gJ3RhYlRvZ2dsZScsIChldiwgdmFsKSAtPlxuICAgICAgICBpZiBzY29wZS50YWJTZXQgaXMgdmFsLmlkXG5cbiAgICAgICAgICAjIEFkZCBhY3RpdmUgYXR0cmlidXRlIGZvciBhbnkgQ1NTIG5lZWRzXG4gICAgICAgICAgaWYgYXR0cnMudGFiVG9nZ2xlIGlzIHZhbC50YWJiZWRcbiAgICAgICAgICAgICQoZWxlbWVudCkuYXR0ciAndGFiLWFjdGl2ZScsICcnXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgJChlbGVtZW50KS5yZW1vdmVBdHRyICd0YWItYWN0aXZlJ1xuXVxuXG4jIExpc3RlbnMgZm9yIHN0YXRlIGFuZCBhbmltYXRlc1xuYXBwLmRpcmVjdGl2ZSAndGFiQ29udGVudCcsIFtcbiAgLT5cbiAgICByZXN0cmljdDogJ0EnXG4gICAgbGluazogKHNjb3BlLCBlbGVtZW50LCBhdHRycykgLT5cblxuICAgICAgb3BlblRhYiA9IC0+ICQoZWxlbWVudCkuYXR0ciAndGFiLWFjdGl2ZScsICcnXG4gICAgICBjbG9zZVRhYiA9IC0+ICQoZWxlbWVudCkucmVtb3ZlQXR0ciAndGFiLWFjdGl2ZSdcblxuICAgICAgIyBMaXN0ZW4gZm9yIG1hdGNoaW5nIHRvZ2dsZSBldmVudFxuICAgICAgc2NvcGUuJG9uICd0YWJUb2dnbGUnLCAoZXYsIHZhbCkgLT5cbiAgICAgICAgaWYgc2NvcGUudGFiU2V0IGlzIHZhbC5pZFxuICAgICAgICAgIGlmIGF0dHJzLnRhYkNvbnRlbnQgaXMgdmFsLnRhYmJlZFxuICAgICAgICAgICAgb3BlblRhYigpXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgY2xvc2VUYWIoKVxuXSIsImFwcC5mYWN0b3J5ICdUYWInLCBbXG4gICckcm9vdFNjb3BlJ1xuICAoJHJvb3RTY29wZSkgLT5cbiAgICB0YWJTZXRzID0gW11cblxuICAgICMgQ3JlYXRlIG5ldyB0YWJTZXRcbiAgICBuZXdUYWJTZXQ6IC0+XG4gICAgICB0YWJTZXQgPSB0YWJTZXRzLmxlbmd0aCArIDFcbiAgICAgIHRhYlNldHMucHVzaCBpZDogdGFiU2V0LCB0YWJiZWQ6ICcnXG5cbiAgICAgIHRhYlNldFxuXG4gICAgIyBBY2NlcHQgdG9nZ2xlIGFjdGlvbnMgYW5kIGJyb2FkY2FzdCBldmVudFxuICAgIHRvZ2dsZVRhYjogKGFyZ3MpIC0+XG5cbiAgICAgICMgTG9vcCB0aHJvdWdoIHRhYlNldHMgdG8gZmluZCB0aGUgY29ycmVjdCBvbmVcbiAgICAgIGZvciBuIGluIHRhYlNldHNcbiAgICAgICAgaWYgbi5pZCBpcyBhcmdzLmlkXG4gICAgICAgICAgbi50YWJiZWQgPSBhcmdzLnRhYmJlZFxuXG4gICAgICAgICAgIyBCcm9hZGNhc3QgcmVsZXZhbnQgdG9nZ2xlIGV2ZW50XG4gICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0ICd0YWJUb2dnbGUnLCBuXG4gICAgICAgICAgYnJlYWtcbl0iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=